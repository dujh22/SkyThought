grading_prompt = '''
您将获得一个数学问题。您的任务是根据AoPS标准从1到10对其难度进行评分。以下是标准：
{aops_criteria}
需要标记的问题：{problem}。请将您对难度的估计放在[[level]]中。
重要提示：您应该将难度从1到10放入[[]]中，而不是问题的解决方案。
'''

aops_criteria = '''
所有级别都是估计的，并参考平均值。以下是基于美国分级系统AMC 8 - AMC 10 - AMC 12 - AIME - USAMO/USAJMO - IMO的粗略标准，代表初中 - 初中 - 高中 - 挑战性高中 - 奥林匹克水平。其他竞赛可以根据此进行插值。
注意：
像AMC这样的多项选择测试被评为自由回答。考生可以将答案选项用作提示，因此可以正确回答比Mathcounts或AIME难度相似的问题更多的AMC问题。
一些奥林匹克竞赛分为两个部分，具有两组难度相似的问题，编号为一组。对于这些，测试的前半部分（问题1-3）与后半部分（问题4-6）难度相似。
等级：
1：严格为初学者准备的问题，最简单的小学或初中水平（MOEMS，MATHCOUNTS Chapter，AMC 8 1-20，AMC 10 1-10，AMC 12 1-5，以及其他涉及标准技术的初中水平），大多数传统中学/高中文字问题。
2：针对有动力的初学者，前一类中的较难问题（AMC 8 21-25，较难的MATHCOUNTS States问题，AMC 10 11-20，AMC 12 5-15，AIME 1-3），传统中学/高中文字问题，具有极其复杂的问题解决。
3：需要更多创造性思维的高级初学者问题（较难的MATHCOUNTS National问题，AMC 10 21-25，AMC 12 15-20，AIME 4-6）。
4：中级问题（AMC 12 21-25，AIME 7-9）。
5：更困难的AIME问题（10-12），简单的基于证明的奥林匹克风格问题（早期JBMO问题，最简单的USAJMO 1/4）。
6：高级AIME风格问题（13-15）。入门级奥林匹克水平问题（较难的USAJMO 1/4和较简单的USAJMO 2/5，较简单的USAMO和IMO 1/4）。
7：更难的奥林匹克水平问题，可能需要更多的技术知识（较难的USAJMO 2/5和大多数USAJMO 3/6，极难的USAMO和IMO 1/4，简单-中等USAMO和IMO 2/5）。
8：高级奥林匹克水平问题（中等-难USAMO和IMO 2/5，最简单的USAMO和IMO 3/6）。
9：专家级奥林匹克水平问题（平均USAMO和IMO 3/6）。
10：历史上难题，通常不适合非常困难的比赛（如IMO），因为它们极其繁琐、冗长且困难（例如，全球范围内很少有学生能够解决）。
示例：
作为参考，以下是每个难度级别1-10的问题：
<1：Jamie数了一个立方体的边数，Jimmy数了角数，Judy数了面的数量。然后他们将这三个数字相加。结果是多少？（2003 AMC 8，问题1）
1：有多少个整数值的$x$满足$|x| < 3\pi$？（2021年春季AMC 10B，问题1）
2：一个公平的6面骰子被反复掷出，直到出现奇数。出现第一个奇数之前，每个偶数至少出现一次的概率是多少？（2021年春季AMC 10B，问题18）
3：三角形$ABC$，其中$AB=50$且$AC=10$，面积为$120$。设$D$为$\overline{AB}$的中点，$E$为$\overline{AC}$的中点。$\angle BAC$的角平分线与$\overline{DE}$和$\overline{BC}$分别相交于$F$和$G$。四边形$FDBG$的面积是多少？（2018 AMC 10A，问题24）
4：递归定义一个序列$x_0=5$，\[x_{n+1}=\frac{x_n^2+5x_n+4}{x_n+6}\]对于所有非负整数$n$。设$m$为最小的正整数，使得\[x_m\leq 4+\frac{1}{2^{20}}。\]在以下哪个区间中$m$位于？
$\textbf{(A) } [9,26] \qquad\textbf{(B) } [27,80] \qquad\textbf{(C) } [81,242]\qquad\textbf{(D) } [243,728] \qquad\textbf{(E) } [729,\infty)$
（2019 AMC 10B，问题24和2019 AMC 12B，问题22）
5：找出所有实数三元组$(a, b, c)$，使得以下系统成立：\[a+b+c=\frac{1}{a}+\frac{1}{b}+\frac{1}{c},\]\[a^2+b^2+c^2=\frac{1}{a^2}+\frac{1}{b^2}+\frac{1}{c^2}.\]（JBMO 2020/1）
6：设$\triangle ABC$为一个锐角三角形，其外接圆为$\omega$，设$H$为$\triangle ABC$的高的交点。假设$\triangle HBC$的外接圆在$H$处的切线与$\omega$相交于点$X$和$Y$，其中$HA=3,HX=2,$和$HY=6.$ $\triangle ABC$的面积可以写成$m\sqrt{n}$的形式，其中$m$和$n$是正整数，且$n$不被任何素数的平方整除。求$m+n.$（2020 AIME I，问题15）
7：我们说平面中的有限集$\mathcal{S}$是平衡的，如果对于$\mathcal{S}$中的任意两点$A$，$B$，存在一个点$C$在$\mathcal{S}$中，使得$AC=BC$。我们说$\mathcal{S}$是无中心的，如果对于$\mathcal{S}$中的任意三点$A$，$B$，$C$，在$\mathcal{S}$中没有点$P$使得$PA=PB=PC$。
证明对于所有整数$n\geq 3$，存在一个由$n$个点组成的平衡集。
确定存在一个由$n$个点组成的平衡无中心集的所有整数$n\geq 3$。
（IMO 2015/1）
8：对于每个正整数$n$，开普敦银行发行面值为$\frac1n$的硬币。给定这样一组有限的硬币（面值不一定不同），总价值最多为99+\frac{1}{2}，证明可以将这组硬币分成100个或更少的组，使得每组的总价值最多为1。（IMO 2014/5）
9：设$k$为正整数，$S$为奇素数的有限集。证明最多有一种方法（旋转和反射除外）将$S$的元素放置在圆周上，使得任何两个相邻元素的乘积为某个正整数$x$的形式$x^2+x+k$。（IMO 2022/3）
10：证明存在一个正的常数$c$，使得以下陈述为真：考虑一个整数$n > 1$，以及一个由$n$个点组成的集合$\mathcal S$，使得$\mathcal S$中任意两点之间的距离至少为1。则存在一条直线$\ell$分隔$\mathcal S$，使得$\mathcal S$中任意一点到$\ell$的距离至少为$cn^{-1/3}$。
（如果一条线$\ell$分隔一个点集S，则$\mathcal S$中某些点之间的线段穿过$\ell$。）（IMO 2020/6）
'''

convert_prompt = '''
另一个解决方案是以非结构化的方式编写的。您的任务是将其转换为两个部分：
<|begin_of_thought|>
（思考过程，您应该完全复制原始解决方案的思维过程。）
<|end_of_thought|>
<|begin_of_solution|>
（最终格式化、精确且清晰的解决方案；确保在此部分中只有一个解决方案；如果是编码问题，确保只有一个代码块）
<|end_of_solution|>
以下是不同问题的示例演示，您可以参考其格式：
{example}
重要提示：您应该几乎逐字复制原始解决方案的所有内容。只需将其转换为两个部分。
确保您包括：<|begin_of_slow_thought|>，<|end_of_slow_thought|>，<|begin_of_solution|>，<|end_of_solution|> 这四个标题。
要转换的内容：{content}
'''

convert_prompt_example = '''
<|begin_of_thought|>

好的，我这里有这个问题。王先生早上6点离家，骑自行车的速度是12公里/小时，每骑30分钟休息6分钟。然后，当他到达一个距离16.8公里的公园时，我需要找出他手表上时针和分针之间的角度。

好吧，首先，我需要弄清楚王先生骑16.8公里所需的时间，包括他的休息时间。

所以，他的速度是12公里/小时。要找出不间断骑行16.8公里所需的时间，我可以使用公式时间=距离/速度。那将是16.8除以12，即1.4小时。为了更容易理解，那是1小时24分钟。

但是等等，他不是直骑过去的。他每骑30分钟就停下来休息6分钟。所以，我需要看看在他的总骑行时间中有多少个30分钟的骑行段。

在1小时24分钟的骑行中，有多少个30分钟的段？嗯，1小时是60分钟，加上24分钟，总共是84分钟的骑行时间。所以，84除以30是2.8。这意味着他有两个完整的30分钟骑行段和一个部分段。

在每个完整的30分钟骑行段之后，他休息6分钟。所以，对于两个完整的段，他休息两次，总共12分钟的休息时间。

现在，对于部分骑行段。因为2次30分钟是60分钟，而他有84分钟的骑行时间，剩余的骑行时间是84减去60，即24分钟。所以，他骑行24分钟而没有再休息，因为他没有完成另一个30分钟的段。

所以，总时间是骑行时间加上休息时间。那是84分钟的骑行加上12分钟的休息，总共96分钟。

等等，但他每骑30分钟就停下来休息，但在最后的24分钟部分段中，他是否再次休息？我认为他只有在完成30分钟的骑行后才休息，所以在这种情况下，由于最后的骑行段只有24分钟，他在那之后没有再休息。

所以，总时间应该是84分钟的骑行加上12分钟的休息，确实是96分钟，或者1小时36分钟。

所以，他在早上6点离开，花费1小时36分钟到达公园，到达时间是7:36 AM。

现在，我需要找出7:36时分针和时针之间的角度。

要找出时针和分针之间的角度，我可以使用公式：

|30H - 5.5M|

其中H是小时，M是分钟。

在7:36时，H是7，M是36。

所以，代入：

30*7 = 210

5.5*36 = 198

210 - 198 = 12

所以，角度是12度。

等等，但我应该确保这是较小的角度。有时，考虑较大的角度，但通常，要求的是较小的角度。

所以，7:36 AM时分针和时针之间的角度是12度。

我想这就是答案。<|end_of_thought|>

<|begin_of_solution|>

王先生早上6点离家，骑行速度为12公里/小时，每骑30分钟休息6分钟。他到达一个距离16.8公里的公园。为了确定他到达时手表上时针和分针之间的角度，我们首先计算总时间。

1. **不间断骑行时间**：

$$\\text{时间} = \\frac{\\text{距离}}{\\text{速度}} = \\frac{16.8 \\text{ 公里}}{12 \\text{ 公里/小时}} = 1.4 \\text{ 小时} = 84 \\text{ 分钟}$$

2. **休息时间**：

  - 他每骑30分钟休息6分钟。

  - 在84分钟的骑行中，他完成了2个完整的30分钟段和一个部分24分钟段。

  - 他休息两次，总共12分钟的休息。

3. **总时间**：

$$\\text{总时间} = 84 \\text{ 分钟（骑行）} + 12 \\text{ 分钟（休息）} = 96 \\text{ 分钟} = 1 \\text{ 小时和 } 36 \\text{ 分钟}$$

  - 他到达时间是7:36 AM。

4. **7:36时分针和时针之间的角度**：

  - 使用公式：

$$\\text{角度} = |30H - 5.5M|$$

  - 在7:36时，$H = 7$ 和 $M = 36$：

$$\\text{角度} = |30 \\times 7 - 5.5 \\times  = |210 - 198| = 12 \\text{ 度}$$

因此，他手表上时针和分针之间的角度是$\\boxed{12}$。<|end_of_solution|>
'''

# From https://arxiv.org/pdf/2412.09413
system_prompt = '''
作为助手，您的角色是通过系统的长时间思考过程彻底探索问题，然后提供最终精确和准确的解决方案。这需要参与全面的分析、总结、探索、重新评估、反思、回溯和迭代循环，以发展深思熟虑的思维过程。
请将您的回答结构化为两个主要部分：思考和解决方案。在思考部分，使用指定的格式详细说明您的推理过程：
<|begin_of_thought|> {思考，步骤用'\n\n'分隔} <|end_of_thought|>
每个步骤应包括详细的考虑因素，如分析问题、总结相关发现、头脑风暴新想法、验证当前步骤的准确性、修正任何错误以及重新审视以前的步骤。
在解决方案部分，基于思考部分的各种尝试、探索和反思，系统地呈现您认为正确的最终解决方案。解决方案应保持逻辑、准确、简洁的表达风格，并详细说明达到结论所需的必要步骤，格式如下：
<|begin_of_solution|>
{最终格式化、精确且清晰的解决方案}
<|end_of_solution|>
现在，尝试通过上述指南解决以下问题：
'''